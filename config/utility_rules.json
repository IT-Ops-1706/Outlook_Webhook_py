{
  "utilities": [
    {
      "id": "email_thread_tracker",
      "name": "Email Thread Tracker - Rate Requests & Urgent Enquiries",
      "enabled": true,
      "subscriptions": {
        "mailboxes": [
          {
            "address": "it.ops@babajishivram.com",
            "folders": [
              "Inbox",
              "Sent Items"
            ]
          },
          {
            "address": "developer5@babajishivram.com",
            "folders": [
              "Inbox",
              "Sent Items"
            ]
          }
        ]
      },
      "pre_filters": {
        "condition_groups": [
          {
            "name": "Enquiry Keywords",
            "logic": "OR",
            "conditions": [
              {
                "field": "subject",
                "operator": "contains",
                "value": "rate request",
                "case_sensitive": false
              },
              {
                "field": "subject",
                "operator": "contains",
                "value": "freight rate",
                "case_sensitive": false
              },
              {
                "field": "subject",
                "operator": "contains",
                "value": "quotation",
                "case_sensitive": false
              },
              {
                "field": "subject",
                "operator": "contains",
                "value": "quote shared",
                "case_sensitive": false
              },
              {
                "field": "subject",
                "operator": "contains",
                "value": "rate offered",
                "case_sensitive": false
              },
              {
                "field": "subject",
                "operator": "contains",
                "value": "rate validity",
                "case_sensitive": false
              },
              {
                "field": "subject",
                "operator": "contains",
                "value": "validity expires",
                "case_sensitive": false
              },
              {
                "field": "subject",
                "operator": "contains",
                "value": "indicative rate",
                "case_sensitive": false
              },
              {
                "field": "subject",
                "operator": "contains",
                "value": "firm rate",
                "case_sensitive": false
              },
              {
                "field": "body_content",
                "operator": "contains",
                "value": "rate request",
                "case_sensitive": false
              },
              {
                "field": "body_content",
                "operator": "contains",
                "value": "freight rate",
                "case_sensitive": false
              },
              {
                "field": "body_content",
                "operator": "contains",
                "value": "quotation",
                "case_sensitive": false
              }
            ]
          },
          {
            "name": "Urgency Keywords",
            "logic": "OR",
            "conditions": [
              {
                "field": "subject",
                "operator": "contains",
                "value": "urgent shipment",
                "case_sensitive": false
              },
              {
                "field": "subject",
                "operator": "contains",
                "value": "immediate action required",
                "case_sensitive": false
              },
              {
                "field": "subject",
                "operator": "contains",
                "value": "urgent response",
                "case_sensitive": false
              },
              {
                "field": "subject",
                "operator": "contains",
                "value": "time critical",
                "case_sensitive": false
              },
              {
                "field": "subject",
                "operator": "contains",
                "value": "production impact",
                "case_sensitive": false
              },
              {
                "field": "subject",
                "operator": "contains",
                "value": "shutdown",
                "case_sensitive": false
              },
              {
                "field": "body_content",
                "operator": "contains",
                "value": "urgent shipment",
                "case_sensitive": false
              },
              {
                "field": "body_content",
                "operator": "contains",
                "value": "immediate action required",
                "case_sensitive": false
              }
            ]
          },
          {
            "name": "Quality Keywords",
            "logic": "OR",
            "conditions": [
              {
                "field": "subject",
                "operator": "contains",
                "value": "dissatisfactory",
                "case_sensitive": false
              },
              {
                "field": "body_content",
                "operator": "contains",
                "value": "dissatisfactory",
                "case_sensitive": false
              }
            ]
          },
          {
            "name": "FE Number Pattern",
            "logic": "OR",
            "conditions": [
              {
                "field": "subject",
                "operator": "regex",
                "value": "FE\\d{5}",
                "case_sensitive": false
              },
              {
                "field": "body_content",
                "operator": "regex",
                "value": "FE\\d{5}",
                "case_sensitive": false
              }
            ]
          }
        ],
        "group_logic": "OR"
      },
      "endpoint": {
        "url": "https://ae20e2bcd1ab.ngrok-free.app/api/v1/utility-1/process",
        "method": "POST",
        "auth": {
          "type": "bearer",
          "token": "${TOKEN_UTIL_1}"
        }
      },
      "timeout": 30,
      "enrich_employee_data": true
    },
    {
      "id": "doc-processor",
      "name": "Document Processing Utility",
      "enabled": true,
      "subscriptions": {
        "mailboxes": [
          {
            "address": "icegate.impexcube@babajishivram.com",
            "folders": [
              "Inbox"
            ]
          }
        ]
      },
      "pre_filters": {
        "condition_groups": [
          {
            "name": "ICEGATE Emails",
            "logic": "AND",
            "conditions": [
              {
                "field": "from_address",
                "operator": "equals",
                "value": "noreply@icegate.gov.in",
                "case_sensitive": false
              },
              {
                "field": "subject",
                "operator": "regex",
                "value": "Electronic\\s+([\\w\\s]+)\\s+copy\\s+of\\s+(BoE|SB)\\s+for\\s+(?:Bill\\s+of\\s+Entry|Shipping\\s+Bill)\\s+No(\\d+)Dt(\\d+)",
                "case_sensitive": false
              },
              {
                "field": "has_attachments",
                "operator": "equals",
                "value": true
              }
            ]
          }
        ],
        "group_logic": "OR"
      },
      "endpoint": {
        "url": "https://ae20e2bcd1ab.ngrok-free.app/api/v1/utility-2`/process",
        "method": "POST",
        "auth": {
          "type": "bearer",
          "token": "${TOKEN_UTIL_1}"
        }
      },
      "timeout": 30,
      "enrich_employee_data": false
    },
    {
      "id": "fe-number-utility",
      "name": "FE Number Utility",
      "enabled": true,
      "subscriptions": {
        "mailboxes": [
          {
            "address": "it.ops@babajishivram.com",
            "folders": [
              "Inbox",
              "Sent Items"
            ]
          }
        ]
      },
      "pre_filters": {
        "condition_groups": [
          {
            "name": "Subject Match",
            "logic": "AND",
            "conditions": [
              {
                "field": "subject",
                "operator": "regex",
                "value": "\\bFE[ _\\-:/]?\\d{7}\\b",
                "case_sensitive": false
              }
            ]
          },
          {
            "name": "Body Match (Unique Content)",
            "logic": "AND",
            "conditions": [
              {
                "field": "unique_body_content",
                "operator": "regex",
                "value": "\\bFE[ _\\-:/]?\\d{7}\\b",
                "case_sensitive": false
              }
            ]
          }
        ],
        "group_logic": "OR"
      },
      "endpoint": {
        "url": "https://ae20e2bcd1ab.ngrok-free.app/api/v1/utility-3/process",
        "method": "POST",
        "auth": {
          "type": "bearer",
          "token": "${TOKEN_UTIL_1}"
        }
      },
      "timeout": 30,
      "enrich_employee_data": false
    }
  ]
}